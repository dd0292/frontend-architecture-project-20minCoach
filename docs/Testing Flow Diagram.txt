# Diagrama de Flujo de Testing - 20minCoach

## Testing Execution Flow

```
┌─────────────────────────────────────────────────────────────────┐
│                    TESTING EXECUTION FLOW                      │
└─────────────────────────────────────────────────────────────────┘

┌─────────────┐
│   DEVELOPER │
│   WRITES    │
│    CODE     │
└──────┬──────┘
       │
       ▼
┌─────────────┐
│   WRITE     │
│    TEST     │
└──────┬──────┘
       │
       ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   UNIT      │───▶│ INTEGRATION │───▶│     E2E     │
│   TESTS     │    │    TESTS    │    │    TESTS    │
└──────┬──────┘    └──────┬──────┘    └──────┬──────┘
       │                  │                  │
       ▼                  ▼                  ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   MOCK      │    │   REAL      │    │   REAL      │
│   DATA      │    │   SERVICES  │    │   DEVICE    │
└──────┬──────┘    └──────┬──────┘    └──────┬──────┘
       │                  │                  │
       └──────────────────┼──────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────────────┐
│                    TEST RESULTS                                │
└─────────────────────────────────────────────────────────────────┘

┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   PASS      │    │   FAIL      │    │   COVERAGE  │
│             │    │             │    │   REPORT    │
│ • All       │    │ • Fix       │    │             │
│   Tests     │    │   Issues    │    │ • Lines     │
│   Pass      │    │ • Debug     │    │ • Functions │
│ • Deploy    │    │ • Rerun     │    │ • Branches  │
│   Ready     │    │   Tests     │    │ • Statements│
└─────────────┘    └──────┬──────┘    └─────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────────────┐
│                    CONTINUOUS INTEGRATION                      │
└─────────────────────────────────────────────────────────────────┘

┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   GITHUB    │    │   GITLAB    │    │   LOCAL     │
│   ACTIONS   │    │     CI      │    │   DEV       │
│             │    │             │    │             │
│ • Auto      │    │ • Auto      │    │ • Watch     │
│   Tests     │    │   Tests     │    │   Mode      │
│ • Coverage  │    │ • Coverage  │    │ • Debug     │
│   Reports   │    │   Reports   │    │   Support   │
│ • Quality   │    │ • Quality   │    │ • Hot       │
│   Gates     │    │   Gates     │    │   Reload    │
└─────────────┘    └─────────────┘    └─────────────┘
```

## Test Development Process

```
┌─────────────────────────────────────────────────────────────────┐
│                    TEST DEVELOPMENT PROCESS                     │
└─────────────────────────────────────────────────────────────────┘

┌─────────────┐
│   ANALYZE   │
│REQUIREMENTS │
└──────┬──────┘
       │
       ▼
┌─────────────┐
│  IDENTIFY   │
│  TESTABLE   │
│  UNITS      │
└──────┬──────┘
       │
       ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   WRITE     │    │   WRITE     │    │   WRITE     │
│   UNIT      │    │INTEGRATION  │    │     E2E     │
│   TESTS     │    │    TESTS    │    │    TESTS    │
└──────┬──────┘    └──────┬──────┘    └──────┬──────┘
       │                  │                  │
       ▼                  ▼                  ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   MOCK      │    │   SETUP     │    │   CONFIGURE │
│   DEPENDENCIES│   │   TEST      │    │   TEST      │
│             │    │   DATA      │    │   ENVIRONMENT│
└──────┬──────┘    └──────┬──────┘    └──────┬──────┘
       │                  │                  │
       └──────────────────┼──────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────────────┐
│                    TEST EXECUTION                              │
└─────────────────────────────────────────────────────────────────┘

┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   RUN       │    │   ANALYZE   │    │   REPORT    │
│   TESTS     │    │   RESULTS   │    │   COVERAGE  │
└──────┬──────┘    └──────┬──────┘    └──────┬──────┘
       │                  │                  │
       ▼                  ▼                  ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   PASS/     │    │   DEBUG     │    │   GENERATE  │
│   FAIL      │    │   ISSUES    │    │   REPORTS   │
└──────┬──────┘    └──────┬──────┘    └──────┬──────┘
       │                  │                  │
       └──────────────────┼──────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────────────┐
│                    CONTINUOUS IMPROVEMENT                      │
└─────────────────────────────────────────────────────────────────┘

┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   REFACTOR  │    │   OPTIMIZE  │    │   MAINTAIN  │
│   TESTS     │    │   PERFORMANCE│   │   TESTS     │
└──────┬──────┘    └──────┬──────┘    └──────┬──────┘
       │                  │                  │
       ▼                  ▼                  ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   IMPROVE   │    │   REDUCE    │    │   UPDATE    │
│   COVERAGE  │    │   FLAKY     │    │   DOCUMENTATION│
│             │    │   TESTS     │    │             │
└─────────────┘    └─────────────┘    └─────────────┘
```

## Test Types and Coverage

```
┌─────────────────────────────────────────────────────────────────┐
│                    TEST TYPES AND COVERAGE                     │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   UNIT TESTS    │    │ INTEGRATION     │    │   E2E TESTS     │
│   (80% Lines)   │    │   TESTS         │    │   (Critical     │
│                 │    │   (85% Lines)   │    │    Paths)       │
│                 │    │                 │    │                 │
│ ┌─────────────┐ │    │ ┌─────────────┐ │    │ ┌─────────────┐ │
│ │   MODELS    │ │    │ │   API       │ │    │ │   LOGIN     │ │
│ │   (95%)     │ │    │ │   FLOWS     │ │    │ │   FLOW      │ │
│ └─────────────┘ │    │ │   (90%)     │ │    │ └─────────────┘ │
│                 │    │ └─────────────┘ │    │                 │
│ ┌─────────────┐ │    │                 │    │ ┌─────────────┐ │
│ │CONTROLLERS  │ │    │ ┌─────────────┐ │    │ │   SEARCH   │ │
│ │   (85%)     │ │    │ │   STATE     │ │    │ │   FLOW     │ │
│ └─────────────┘ │    │ │   MGMT      │ │    │ └─────────────┘ │
│                 │    │ │   (85%)     │ │    │                 │
│ ┌─────────────┐ │    │ └─────────────┘ │    │ ┌─────────────┐ │
│ │   UTILS     │ │    │                 │    │ │   BOOKING   │ │
│ │   (90%)     │ │    │ ┌─────────────┐ │    │ │   FLOW     │ │
│ └─────────────┘ │    │ │ COMPONENT   │ │    │ └─────────────┘ │
│                 │    │ │INTEGRATION  │ │    │                 │
│ ┌─────────────┐ │    │ │   (80%)     │ │    │ ┌─────────────┐ │
│ │ COMPONENTS  │ │    │ └─────────────┘ │    │ │   PAYMENT   │ │
│ │   (70%)     │ │    │                 │    │ │   FLOW      │ │
│ └─────────────┘ │    │ ┌─────────────┐ │    │ └─────────────┘ │
│                 │    │ │ NAVIGATION  │ │    │                 │
│                 │    │ │   (75%)     │ │    │                 │
│                 │    │ └─────────────┘ │    │                 │
└─────────────────┘    └─────────────────┘    └─────────────────┘
```

## Testing Tools Integration

```
┌─────────────────────────────────────────────────────────────────┐
│                    TESTING TOOLS INTEGRATION                   │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────┐
│   JEST CORE     │
│                 │
│ • Test Runner   │
│ • Assertions    │
│ • Coverage      │
│ • Snapshots     │
│ • Watch Mode    │
│ • Parallel      │
│   Execution     │
└──────┬──────────┘
       │
       ▼
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   TESTING       │    │   MOCKING       │    │   COVERAGE      │
│   LIBRARIES     │    │   TOOLS         │    │   TOOLS         │
│                 │    │                 │    │                 │
│ • @testing-     │    │ • jest.fn()     │    │ • Istanbul      │
│   library/      │    │ • jest.mock()   │    │ • NYC           │
│   react-native  │    │ • jest.spyOn()  │    │ • HTML Reports  │
│                 │    │                 │    │ • JSON Reports  │
│ • @testing-     │    │ • Manual Mocks  │    │ • LCOV Reports  │
│   library/      │    │ • Service Mocks │    │ • CI Integration│
│   jest-native   │    │ • API Mocks     │    │                 │
└─────────────────┘    └─────────────────┘    └─────────────────┘
       │                       │                       │
       └───────────────────────┼───────────────────────┘
                               │
                               ▼
┌─────────────────────────────────────────────────────────────────┐
│                    DEVELOPMENT TOOLS                           │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   VS CODE       │    │   CI/CD         │    │   MONITORING    │
│   INTEGRATION   │    │   PIPELINE      │    │                 │
│                 │    │                 │    │                 │
│ • Jest Extension│    │ • GitHub Actions│    │ • Coverage      │
│ • Debug Support │    │ • GitLab CI     │    │   Tracking      │
│ • Test Explorer │    │ • Quality Gates │    │ • Performance   │
│ • Coverage      │    │ • Auto Reports  │    │   Metrics       │
│   Visualization │    │ • Notifications │    │ • Test Trends   │
└─────────────────┘    └─────────────────┘    └─────────────────┘
```

## Test Data Management

```
┌─────────────────────────────────────────────────────────────────┐
│                    TEST DATA MANAGEMENT                        │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   FIXTURES      │    │   BUILDERS      │    │   MOCKS         │
│                 │    │                 │    │                 │
│ • Static Data   │    │ • UserBuilder   │    │ • API Mocks     │
│ • Test Users    │    │ • CoachBuilder  │    │ • Service Mocks │
│ • Sample        │    │ • TestData      │    │ • External      │
│   Responses     │    │   Factories     │    │   Mocks         │
│ • Edge Cases    │    │ • Fluent API    │    │ • Database      │
│                 │    │ • Reusable      │    │   Mocks         │
└─────────────────┘    └─────────────────┘    └─────────────────┘
       │                       │                       │
       └───────────────────────┼───────────────────────┘
                               │
                               ▼
┌─────────────────────────────────────────────────────────────────┐
│                    DATA ISOLATION                              │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   BEFORE EACH   │    │   AFTER EACH    │    │   CLEANUP       │
│                 │    │                 │    │                 │
│ • Setup Data    │    │ • Clean Data    │    │ • Reset Mocks   │
│ • Initialize    │    │ • Clear State   │    │ • Clear Cache   │
│   State         │    │ • Restore       │    │ • Reset Timers  │
│ • Configure     │    │   Mocks         │    │ • Cleanup       │
│   Mocks         │    │                 │    │   Resources     │
└─────────────────┘    └─────────────────┘    └─────────────────┘
```

## Quality Assurance Process

```
┌─────────────────────────────────────────────────────────────────┐
│                    QUALITY ASSURANCE PROCESS                   │
└─────────────────────────────────────────────────────────────────┘

┌─────────────┐
│   DEVELOPER │
│   COMMITS   │
│    CODE     │
└──────┬──────┘
       │
       ▼
┌─────────────┐
│   PRE-COMMIT│
│    HOOKS    │
└──────┬──────┘
       │
       ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   LINT      │    │   UNIT      │    │   COVERAGE  │
│   TESTS     │    │   TESTS     │    │   CHECK     │
└──────┬──────┘    └──────┬──────┘    └──────┬──────┘
       │                  │                  │
       ▼                  ▼                  ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   PASS/     │    │   PASS/     │    │   PASS/     │
│   FAIL      │    │   FAIL      │    │   FAIL      │
└──────┬──────┘    └──────┬──────┘    └──────┬──────┘
       │                  │                  │
       └──────────────────┼──────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────────────┐
│                    PULL REQUEST CHECKS                         │
└─────────────────────────────────────────────────────────────────┘

┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   ALL       │    │   COVERAGE  │    │   NO        │
│   TESTS     │    │   MAINTAINED│    │   REGRESSION│
│   PASS      │    │             │    │             │
└──────┬──────┘    └──────┬──────┘    └──────┬──────┘
       │                  │                  │
       ▼                  ▼                  ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   INTEGRATION│   │   E2E       │    │   PERFORMANCE│
│   TESTS     │    │   TESTS     │    │   TESTS     │
└──────┬──────┘    └──────┬──────┘    └──────┬──────┘
       │                  │                  │
       └──────────────────┼──────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────────────┐
│                    DEPLOYMENT GATES                            │
└─────────────────────────────────────────────────────────────────┘

┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   PRODUCTION│    │   STAGING   │    │   DEVELOPMENT│
│   TESTS     │    │   TESTS     │    │   TESTS     │
│             │    │             │    │             │
│ • All       │    │ • All       │    │ • Unit      │
│   Tests     │    │   Tests     │    │   Tests     │
│   Pass      │    │   Pass      │    │ • Integration│
│ • Security  │    │ • Load      │    │   Tests     │
│   Tests     │    │   Tests     │    │ • Component │
│ • Performance│   │ • Smoke     │    │   Tests     │
│   Tests     │    │   Tests     │    │             │
└─────────────┘    └─────────────┘    └─────────────┘
```

